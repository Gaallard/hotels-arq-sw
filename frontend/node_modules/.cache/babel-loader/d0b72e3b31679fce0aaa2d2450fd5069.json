{"ast":null,"code":"import axios from 'axios';\nconst authToken = localStorage.getItem('token');\n//axios.defaults.withCredentials = true;\n\nexport async function login(userData) {\n  try {\n    const response = await axios.post('http://localhost:8080/users/login', userData, {\n      credentials: \"include\"\n    });\n    console.log('Login response: ', response);\n    localStorage.setItem('token', response.data.Token);\n    return response.data.Token;\n  } catch (error) {\n    console.error('Login error: ', error);\n    throw error;\n  }\n}\nexport async function register(userData) {\n  try {\n    const response = await axios.post('http://localhost:8080/users', userData);\n    console.log('Register response:', response);\n    return response.data;\n  } catch (error) {\n    console.error('Register error:', error);\n    throw error;\n  }\n}\nexport async function insertHotel(Data) {\n  try {\n    const response = await axios.post('http://localhost:8081/hotels', Data, {\n      headers: {\n        'Authorization': `Bearer ${authToken}`\n      }\n    });\n    console.log('Hotel creado: ', response);\n    return response.data;\n  } catch (error) {\n    console.error('Hotel error: ', error);\n    throw error;\n  }\n}\nexport async function updateHotel(hotelId, Data) {\n  try {\n    const response = await axios.put(`http://localhost:8081/hotels/${hotelId}`, Data, {\n      headers: {\n        'Authorization': `Bearer ${authToken}`\n      }\n    });\n    console.log('Hotel actualizado: ', response);\n    return response.data;\n  } catch (error) {\n    console.error('Error al actualizar el hotel: ', error);\n    throw error;\n  }\n}\nexport async function reserva(Data) {\n  const token = await tokenId();\n  const data = {\n    \"user_id\": token,\n    \"hotel_name\": Data\n  };\n  console.log(\"data id: \", data);\n  return axios.post('http://localhost:8083/reservas', data, {\n    headers: {\n      'Authorization': `Bearer ${authToken}`\n    }\n  }).then(response => {\n    console.log('Reserva realizada: ', response);\n    return response.data;\n  }).catch(error => {\n    console.error('Reserva error: ', error);\n    throw error;\n  });\n}\nexport async function updateReserva(Data) {\n  const token = await tokenId();\n  const data = {\n    \"user_id\": token,\n    \"hotel_name\": Data\n  };\n  console.log(\"data id: \", data);\n  return axios.put('http://localhost:8083/reservas', data, {\n    headers: {\n      'Authorization': `Bearer ${authToken}`\n    }\n  }).then(response => {\n    console.log('Reserva realizada: ', response);\n    return response.data;\n  }).catch(error => {\n    console.error('Reserva error: ', error);\n    throw error;\n  });\n}\nexport async function deleteReserva(Data) {\n  const token = await tokenId();\n  const data = {\n    \"user_id\": token,\n    \"hotel_name\": Data\n  };\n  console.log(\"data id: \", data);\n  return axios.delete('http://localhost:8083/reservas', data, {\n    headers: {\n      'Authorization': `Bearer ${authToken}`\n    }\n  }).then(response => {\n    console.log('Reserva realizada: ', response);\n    return response.data;\n  }).catch(error => {\n    console.error('Reserva error: ', error);\n    throw error;\n  });\n}\nexport async function tokenId() {\n  const token = localStorage.getItem('token');\n  console.log(\"tokens: \", token);\n  const val1 = await axios.get('http://localhost:8080/users/token', {\n    headers: {\n      'Authorization': token\n    }\n  });\n  const val2 = val1.data.idU;\n  return val2;\n}\nexport async function tokenRole() {\n  const token = localStorage.getItem('token');\n  console.log(\"tokens: \", token);\n  const val1 = await axios.get('http://localhost:8080/users/token', {\n    headers: {\n      'Authorization': token\n    }\n  });\n  console.log(\"val1: \", val1);\n  const val2 = val1.data.Adminu;\n  console.log(\"val2: \", val2);\n  return val2;\n}\n\n/*\r\nexport async function buscarSuscription(Data) {\r\n  try {\r\n    const token = await tokenId();\r\n    console.log(\"id user: \", token);\r\n    console.log(\"id curso: \", Data);\r\n\r\n    const url = `http://localhost:8080/suscriptions?user_id=${token}&course_id=${Data}`;\r\n\r\n    const response = await axios.get(url, {\r\n      headers: { 'Authorization': `Bearer ${authToken}` }\r\n    });\r\n    console.log('Suscripcion obtenida: ', response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error en la busqueda de suscripcion: ', error);\r\n    return null\r\n  }\r\n}*/\n\n/*\r\nexport function MoreInfo(Data){\r\n  return axios.get(`http://localhost:8080/courses/courseInfo/${Data}`)\r\n  .then(response => {\r\n    console.log('Curso Seleccionado: ', response)\r\n    return response.data\r\n  })\r\n  .catch(error => {\r\n    console.error('curso error: ', error)\r\n    throw error;\r\n  });\r\n}*/","map":{"version":3,"names":["axios","authToken","localStorage","getItem","login","userData","response","post","credentials","console","log","setItem","data","Token","error","register","insertHotel","Data","headers","updateHotel","hotelId","put","reserva","token","tokenId","then","catch","updateReserva","deleteReserva","delete","val1","get","val2","idU","tokenRole","Adminu"],"sources":["C:/Users/frant/OneDrive/Documentos/UCC/Tercer_Anio/Arq_soft2/hotels-arq-sw/frontend/src/utils/Acciones.js"],"sourcesContent":["import axios from 'axios';\r\nconst authToken = localStorage.getItem('token');\r\n//axios.defaults.withCredentials = true;\r\n \r\nexport async function login(userData) {\r\n  try {\r\n        const response = await axios.post('http://localhost:8080/users/login', userData, {\r\n            credentials: \"include\",\r\n        });\r\n        console.log('Login response: ', response);\r\n        localStorage.setItem('token', response.data.Token);\r\n        return response.data.Token;\r\n    } catch (error) {\r\n        console.error('Login error: ', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function register(userData){\r\n  try {\r\n        const response = await axios.post('http://localhost:8080/users', userData);\r\n        console.log('Register response:', response);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Register error:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function insertHotel(Data){\r\n  try {\r\n        const response = await axios.post('http://localhost:8081/hotels', Data, {\r\n            headers: { 'Authorization': `Bearer ${authToken}` }\r\n        });\r\n        console.log('Hotel creado: ', response);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Hotel error: ', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function updateHotel(hotelId, Data) {\r\n    try {\r\n        const response = await axios.put(`http://localhost:8081/hotels/${hotelId}`, Data, {\r\n            headers: { 'Authorization': `Bearer ${authToken}` }\r\n        });\r\n        console.log('Hotel actualizado: ', response);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Error al actualizar el hotel: ', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n\r\nexport async function reserva(Data){\r\n  const token = await tokenId();\r\n  const data = {\r\n    \"user_id\": token,\r\n    \"hotel_name\": Data,\r\n  }\r\n  console.log(\"data id: \",data)\r\n  return axios.post('http://localhost:8083/reservas',data, {\r\n    headers: { 'Authorization': `Bearer ${authToken}` }\r\n  })\r\n    .then(response => {\r\n      console.log('Reserva realizada: ', response)\r\n      return response.data\r\n    })\r\n    .catch(error => {\r\n      console.error('Reserva error: ', error)\r\n      throw error;\r\n    });\r\n}\r\n\r\nexport async function updateReserva(Data){\r\n    const token = await tokenId();\r\n    const data = {\r\n      \"user_id\": token,\r\n      \"hotel_name\": Data,\r\n    }\r\n    console.log(\"data id: \",data)\r\n    return axios.put('http://localhost:8083/reservas',data, {\r\n      headers: { 'Authorization': `Bearer ${authToken}` }\r\n    })\r\n      .then(response => {\r\n        console.log('Reserva realizada: ', response)\r\n        return response.data\r\n      })\r\n      .catch(error => {\r\n        console.error('Reserva error: ', error)\r\n        throw error;\r\n      });\r\n  }\r\n\r\n  export async function deleteReserva(Data){\r\n    const token = await tokenId();\r\n    const data = {\r\n      \"user_id\": token,\r\n      \"hotel_name\": Data,\r\n    }\r\n    console.log(\"data id: \",data)\r\n    return axios.delete('http://localhost:8083/reservas',data, {\r\n      headers: { 'Authorization': `Bearer ${authToken}` }\r\n    })\r\n      .then(response => {\r\n        console.log('Reserva realizada: ', response)\r\n        return response.data\r\n      })\r\n      .catch(error => {\r\n        console.error('Reserva error: ', error)\r\n        throw error;\r\n      });\r\n  }\r\n\r\n\r\n\r\nexport async function tokenId(){\r\n    const token = localStorage.getItem('token');\r\n    console.log(\"tokens: \",token);\r\n    const val1 = await axios.get('http://localhost:8080/users/token', {\r\n    headers: {\r\n      'Authorization': token\r\n    }\r\n  });\r\n  const val2 = val1.data.idU\r\n  return val2\r\n}\r\n\r\nexport async function tokenRole(){\r\n  const token = localStorage.getItem('token');\r\n  console.log(\"tokens: \",token);\r\n  const val1 = await axios.get('http://localhost:8080/users/token', {\r\n  headers: {\r\n    'Authorization': token\r\n  }\r\n});\r\nconsole.log(\"val1: \",val1)\r\nconst val2 = val1.data.Adminu\r\nconsole.log(\"val2: \",val2)\r\nreturn val2\r\n}\r\n\r\n/*\r\nexport async function buscarSuscription(Data) {\r\n  try {\r\n    const token = await tokenId();\r\n    console.log(\"id user: \", token);\r\n    console.log(\"id curso: \", Data);\r\n\r\n    const url = `http://localhost:8080/suscriptions?user_id=${token}&course_id=${Data}`;\r\n\r\n    const response = await axios.get(url, {\r\n      headers: { 'Authorization': `Bearer ${authToken}` }\r\n    });\r\n    console.log('Suscripcion obtenida: ', response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error en la busqueda de suscripcion: ', error);\r\n    return null\r\n  }\r\n}*/\r\n\r\n\r\n/*\r\nexport function MoreInfo(Data){\r\n  return axios.get(`http://localhost:8080/courses/courseInfo/${Data}`)\r\n  .then(response => {\r\n    console.log('Curso Seleccionado: ', response)\r\n    return response.data\r\n  })\r\n  .catch(error => {\r\n    console.error('curso error: ', error)\r\n    throw error;\r\n  });\r\n}*/\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}